<!DOCTYPE html>
<html class="no-js">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="description" content="">
		<meta name="keywords" content="">
		<meta name="viewport" content="target-densitydpi=device-dpi,width=640,initial-scale=0.5859375,maximum-scale=0.5859375">
		<title>购物车</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="Cache-Control" content="no-siteapp" />
		<link rel="icon" type="image/png" href="assets/i/favicon.png">
		<meta name="mobile-web-app-capable" content="yes">
		<link rel="icon" sizes="192x192" href="assets/i/app-icon72x72@2x.png">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="apple-mobile-web-app-title" content="Amaze UI" />
		<link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">
		<meta name="msapplication-TileImage" content="assets/i/app-icon72x72@2x.png">
		<meta name="msapplication-TileColor" content="#0e90d2">
		<link rel="stylesheet" href="assets/css/amazeui.min.css">
		<link rel="stylesheet" type="text/css" href="css/购物车.css" />
		<style type="text/css">
			i,
			em {
				font-style: normal;
			}
		</style>
	</head>

	<body>
		<div class="mian">
			<header data-am-widget="header" class="am-header am-header-default">
				<div class="am-header-left am-header-nav left">
					<a href="home page.html" class="">
						<i class="am-header-icon am-icon-angle-left"></i>
					</a>
				</div>
				<h1 class="am-header-title">
		          	<a href="Shopping Cart.html" class="text">
		            	购物车
		          	</a>
		     	</h1>
				<div class="am-header-right am-header-nav right">
					<a href="javasript:void(0)" class="editText">
						<i class="am-header-icon edit-complete">编辑</i>
					</a>
				</div>
			</header>
			<section>
				<div class="am-container commodity am-cf">
					<div id="" class="radio1 radio green radio-click am-fl"></div>
					<!--<div class="am-g am-g-collapse">-->
					<a href="" class="am-u-sm-4 am-padding-0">
						<img src="img/6d24087f93f6030bfc43425a3a250ff1@!small.jpg" />
					</a>
					<div class="am-u-sm-8 am-g-collapse">
						<div class="introduce">
							<div class="am-u-sm-12 ellipsis">竖琴沙发</div>
							<div class="am-u-sm-12 cart-attr-option">
								<div class="cart-attr"><em>茶白／</em><em>全幅三人座</em></div>
								<div class="cart-attr"><i>预计2018-05-24前发货</i></div>
							</div>
							<div class="am-u-sm-12">

								<div class="cart-attr am-cf">
									<i class="ga-cartprice">19999</i>
									<label class="total-val-wap am-fr">1</label>
								</div>
							</div>
						</div>

						<div class="introduce2">
							<!--<div class="am-u-sm-12 ellipsis">竖琴沙发</div>
							<div class="am-u-sm-12 cart-attr-option">
								<div class="cart-attr"><em>茶白／</em><em>全幅三人座</em></div>
								<div class="cart-attr"><i>预计2018-05-24前发货</i></div>
							</div>-->
							<div class="am-u-sm-12">
								<div class="am-text-right cart-attr-wrapper cart-attr-option">
									<div class="cart-attr cart-edit-box"><em>已选择：</em><em>肉桂棕／</em><em>全幅版单人座</em></div>
								</div>
								<div class="cart-attr am-cf am-text-right">
									<div class="am-cf modal-mum am-fr am-text-right">

										<div class="am-fl number-operate reduce-btn">-</div>
										<div class="am-fl number-text"><span class="total-val">1</span></div>
										<div class="am-fl number-operate add-btn">+</div>

									</div>
								</div>
							</div>
						</div>

					</div>
					<!--</div>-->
				</div>
			</section>
			<div class="pay-box am-g am-g-collapse am-cf">
				<div class="am-u-sm-9 f-boxs am-vertical-align">
					<div>
						<div id="check_all" class=" radio green radio-click am-fl"><i>已选</i><em>(1)</em></div>
					</div>
					<dl id="lastprice_box" class="am-margin-0 am-fr"><dt class="am-fr all-ga-cartprice">19999</dt></dl>
				</div>
				<div class="btn am-u-sm-3 ">
					<a href="Order the orde.html" style="color: white;">下单</a>
				</div>
			</div>

			<div class="am-modal-actions" id="my-actions">
				<div class="am-modal-actions-group">
					<!--<ul class="am-list">
					<li class="am-modal-actions-header">...</li>
					<li>
						<a href="#"><span class="am-icon-wechat"></span> ...</a>
					</li>
					<li class="am-modal-actions-danger">
						<a href="#"><i class="am-icon-twitter"></i> ...</a>
					</li>
				</ul>-->
					<div class="name"></div>
				</div>
				<div class="am-modal-actions-group">
					<button class="am-btn am-btn-secondary am-btn-block" data-am-modal-close>取消</button>
				</div>
			</div>
		</div>

		<script src="assets/js/jquery-1.12.4.min.js"></script>
		<script src="assets/js/amazeui.min.js"></script>
		<script src="assets/js/handlebars.min.js"></script>
		<script type="text/javascript">
			$('.edit-complete').click(function() {
				if($('.edit-complete').text() == '编辑') {
					$(this).text('完成');
						$('.introduce').css({display:'none'})
						$('.introduce2').css({display:'block'})
				} else {
					$(this).text('编辑');
						$('.introduce').css({display:'block'})
						$('.introduce2').css({display:'none'})
				}
			});

			$("#check_all").click(function() {
				$(this).toggleClass('green')
//				if($(this).is('.green')) {
//					$(this).find('em').text("(" + 1 + ")")
//					$(this).find('i').text("已选");
//					$('.btn').css({
//						background: "black"
//					})
//					$('.all-ga-cartprice').text(19999)
//					$('.radio1').addClass('green')
//				} else {
//					$(this).find('em').text("(" + 0 + ")")
//					$(this).find('i').text("全选");
//					$('.all-ga-cartprice').text(0)
//					$('.btn').css({
//						background: "#a0a0a0"
//					})
//					$('.radio1').removeClass('green')
//				}
				numChange("#check_all");
			})
			
			$(".radio1").click(function(){
				$(this).toggleClass('green')
				$("#check_all").toggleClass('green')
				numChange("#check_all");
				
			})
			var p=parseInt($('.ga-cartprice').text());
			var n=parseInt($('.total-val').text());
			var m=parseInt($('.total-val-wap').text());
			$('.add-btn').click(function(){
				console.log(p)
				console.log(n)
				console.log(m)
				$('.total-val').text(n+1);
				$('.total-val-wap').text(m+1);
				$('.ga-cartprice').text(p+p/n);
				$('#check_all').find('em').text("(" + (n+1) + ")")
				$('.all-ga-cartprice').text(p+p/n)
				n=parseInt($('.total-val').text());
				m=parseInt($('.total-val-wap').text());
				p=parseInt($('.ga-cartprice').text());
				
			});
			$('.reduce-btn').click(function(){
				if(n==1){
					return;
				}else{
					
					$('.total-val').text(n-1);
					$('.total-val-wap').text(m-1)
					$('.ga-cartprice').text(p-p/n);
					$('#check_all').find('em').text("(" + (n-1) + ")")
					$('.all-ga-cartprice').text(p-p/n);
				}
				n=parseInt($('.total-val').text());
				m=parseInt($('.total-val-wap').text());
				p=parseInt($('.ga-cartprice').text());
			});
			
			function numChange(cName){
				if($(cName).is('.green')) {
					$(cName).find('em').text("(" + n + ")")
					$(cName).find('i').text("已选");
					$('.btn').css({
						background: "black"
					})
					$('.all-ga-cartprice').text(p)
					$('.radio1').addClass('green')
				} else {
					$(cName).find('em').text("(" + 0 + ")")
					$(cName).find('i').text("全选");
					$('.all-ga-cartprice').text(0)
					$('.btn').css({
						background: "#a0a0a0"
					})
					$('.radio1').removeClass('green')
				}
			}
			
		</script>

	</body>

</html>